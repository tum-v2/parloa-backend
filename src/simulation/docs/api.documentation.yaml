openapi: 3.0.0
info:
  title: API
  version: 1.0.0
tags:
  - name: Authentication
  - name: Dashboard
  - name: Simulation
  - name: Agent
  - name: Chat
  - name: LLMs
paths:
  /api/v1/auth/login:
    post:
      summary: Log in
      tags: [Authentication]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                accessCode:
                  type: string
                  example: 2986637656
      responses:
        200:
          description: Login successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
        500:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
  /api/v1/dashboard:
    get:
      summary: Dashboard
      tags: [Dashboard]
      parameters:
        - in: query
          name: days
          schema:
            type: number
            example: 10
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  interactions:
                    type: number
                    example: 154
                  simulationsRuns:
                    type: number
                    example: 23
                  successRate:
                    type: number
                    example: 0.8806811619311619
                  simulationGraphData:
                    type: array
                    items: 
                      type: object
                      properties:
                        id:
                          type: string
                          example: 6553a127fcad73273655d634
                        successRate:
                          type: number
                          example: 0.8806811619311619
                        date:
                          type: number
                          example: 1702068485850
                  top10Simulations:
                    type: array
                    items:
                      oneOf:
                        - $ref: "#/components/schemas/SimulationDocument"
                        - $ref: "#/components/schemas/SimulationDocument"
                        - $ref: "#/components/schemas/SimulationDocument"
                        - $ref: "#/components/schemas/SimulationDocument"
                        - $ref: "#/components/schemas/SimulationDocument"
                        - $ref: "#/components/schemas/SimulationDocument"
                        - $ref: "#/components/schemas/SimulationDocument"
                        - $ref: "#/components/schemas/SimulationDocument"
                        - $ref: "#/components/schemas/SimulationDocument"
                        - $ref: "#/components/schemas/SimulationDocument"
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: BAD_REQUEST
                  message:
                    type: string
                    example: Bad request
                  details:
                    type: string
                    example: "Please provide a number of days: e.g. ?days=10"
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
  /api/v1/simulation/all:
    get:
      summary: Retrieve all simulations
      tags: [Simulation]
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/SimulationDocument"
        500:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
  /api/v1/simulation/run:
    post:
      summary: Start new automated simulation
      tags: [Simulation]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RunSimulationRequest"
      responses:
        201:
          description: Simulation successfully created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseRunSimulation"
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        example: "VALIDATION_ERROR"
                      message:
                        type: string
                        example: "API Input Validation failed"
                      errors:
                        type: array
                        items:
                          type: string
                        example:
                          - "Invalid simulation ID."
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
  /api/v1/simulation/{simulationId}:
    get:
      summary: Retrieve simulation
      tags: [Simulation]
      parameters:
        - in: path
          name: simulationId
          required: true
          schema:
            type: string
            example: 6553a127fcad73273655d634
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SimulationDocument"
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        example: "VALIDATION_ERROR"
                      message:
                        type: string
                        example: "API Input Validation failed"
                      errors:
                        type: array
                        items:
                          type: string
                        example:
                          - "Invalid simulation ID."
        404:
          description: Not Found
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Simulation 1 not found!"
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
    put:
      summary: Update simulation
      tags: [Simulation]
      parameters:
        - in: path
          name: simulationId
          required: true
          schema:
            type: string
            example: 6553a127fcad73273655d634
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: Simulation 3
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SimulationDocument"
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        example: "VALIDATION_ERROR"
                      message:
                        type: string
                        example: "API Input Validation failed"
                      errors:
                        type: array
                        items:
                          type: string
                        example:
                          - "Invalid simulation ID."
        404:
          description: Not Found
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Simulation 1 not found!"
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
    delete:
      summary: Delete simulation
      tags: [Simulation]
      parameters:
        - in: path
          name: simulationId
          required: true
          schema:
            type: string
            example: 6553a127fcad73273655d634
      responses:
        204:
          description: OK
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        example: "VALIDATION_ERROR"
                      message:
                        type: string
                        example: "API Input Validation failed"
                      errors:
                        type: array
                        items:
                          type: string
                        example:
                          - "Invalid simulation ID."
        404:
          description: Not Found
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Simulation 1 not found!"
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
  /api/v1/simulation/abtesting/run:
    post:
      summary: Start new A/B simulation
      tags: [Simulation]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ABSimulationRequest"
      responses:
        201:
          description: Simulation successfully created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseRunSimulation"
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        example: "VALIDATION_ERROR"
                      message:
                        type: string
                        example: "API Input Validation failed"
                      errors:
                        type: array
                        items:
                          type: string
                        example:
                          - "Invalid simulation ID."
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
  /api/v1/simulation/conversation/{conversationId}:
    get:
      summary: Retrieve simulation conversations
      tags: [Simulation]
      parameters:
        - in: path
          name: conversationId
          required: true
          schema:
            type: string
            example: 6553a127fcad73273655d634
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConversationResponse"
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        example: "VALIDATION_ERROR"
                      message:
                        type: string
                        example: "API Input Validation failed"
                      errors:
                        type: array
                        items:
                          type: string
                        example:
                          - "Invalid conversation ID."
        404:
          description: Not Found
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Conversation 1 not found!"
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
  /api/v1/agent:
    post:
      summary: Create a new agent
      description: Endpoint to create a new agent.
      tags: [Agent]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ServiceAgent"
      responses:
        201:
          description: Chat started successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AgentResponse"
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        example: "VALIDATION_ERROR"
                      message:
                        type: string
                        example: "API Input Validation failed"
                      errors:
                        type: array
                        items:
                          type: string
                        example:
                          - "Invalid agent name."
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
  /api/v1/agent/all:
    get:
      summary: Retrieve all agents
      tags: [Agent]
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/AgentResponse"
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
  /api/v1/agent/{agentId}:
    get:
      summary: Get agent
      tags: [Agent]
      parameters:
        - in: path
          name: agentId
          required: true
          schema:
            type: string
            example: 6553a127fcad73273655d634
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AgentResponse"
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        example: "VALIDATION_ERROR"
                      message:
                        type: string
                        example: "API Input Validation failed"
                      errors:
                        type: array
                        items:
                          type: string
                        example:
                          - "Invalid agent ID."
        404:
          description: Not Found
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Agent 1 not found!"
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
    put:
      summary: Update agent
      tags: [Agent]
      parameters:
        - in: path
          name: agentId
          required: true
          schema:
            type: string
            example: 6553a127fcad73273655d634
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                llm:
                  type: string
                  example: LLAMA2
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AgentResponse"
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        example: "VALIDATION_ERROR"
                      message:
                        type: string
                        example: "API Input Validation failed"
                      errors:
                        type: array
                        items:
                          type: string
                        example:
                          - "Invalid agent ID."
        404:
          description: Not Found
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Agent 1 not found!"
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
    delete:
      summary: Delete agent
      tags: [Agent]
      parameters:
        - in: path
          name: agentId
          required: true
          schema:
            type: string
            example: 6553a127fcad73273655d634
      responses:
        204:
          description: OK
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        example: "VALIDATION_ERROR"
                      message:
                        type: string
                        example: "API Input Validation failed"
                      errors:
                        type: array
                        items:
                          type: string
                        example:
                          - "Invalid agent ID."
        404:
          description: Not Found
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: Error
  /api/v1/chat/start:
    post:
      summary: Start a new chat
      description: Endpoint to start a new manual chat.
      tags: [Chat]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Chat 3"
                agentConfig:
                  $ref: "#/components/schemas/ServiceAgent"
      responses:
        200:
          description: Chat started successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ChatResponse"
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        example: "VALIDATION_ERROR"
                      message:
                        type: string
                        example: "API Input Validation failed"
                      errors:
                        type: array
                        items:
                          type: string
                        example:
                          - "Invalid chat name."
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
  /api/v1/chat/{chatId}/load:
    get:
      summary: Load previous chat
      description: Endpoint for loading a previous chat.
      tags: [Chat]
      parameters:
        - in: path
          name: chatId
          required: true
          schema:
            type: string
            example: 6553a127fcad73273655d634
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  oneOf:
                    - $ref: "#/components/schemas/AgentMessage"
                    - $ref: "#/components/schemas/UserMessage"
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        example: "VALIDATION_ERROR"
                      message:
                        type: string
                        example: "API Input Validation failed"
                      errors:
                        type: array
                        items:
                          type: string
                        example:
                          - "Invalid chat ID."
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
  /api/v1/chat/{chatId}/send-message:
    post:
      summary: Send a message
      description: Endpoint for sending a message manual chat.
      tags: [Chat]
      parameters:
        - in: path
          name: chatId
          required: true
          schema:
            type: string
            example: 6553a127fcad73273655d634
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - message
              properties:
                message:
                  type: string
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AgentMessage"
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        example: "VALIDATION_ERROR"
                      message:
                        type: string
                        example: "API Input Validation failed"
                      errors:
                        type: array
                        items:
                          type: string
                        example:
                          - "Invalid chat ID."
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
  /api/v1/chat/all:
    get:
      summary: Retrieve all chats
      description: Endpoint for fething all simulations.
      tags: [Chat]
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ChatResponse"
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
  /api/v1/llm/models:
    get:
      summary: Retrive available LLM models
      tags: [LLMs]
      responses:
        200:
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
                  enum:
                    - GPT4
                    - LLAMA2
              example:
                - GPT4
                - LLAMA2
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
  /api/v1/optimization/run:
    post:
      summary: Start a new optimization
      tags: [ Optimization ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/OptimizationRequest"
      responses:
        201:
          description: Optimization successfully initiated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OptimizationDocument"
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        example: "VALIDATION_ERROR"
                      message:
                        type: string
                        example: "API Input Validation failed"
                      errors:
                        type: array
                        items:
                          type: string
                        example:
                          - "Invalid simulation name."
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
                    
  /api/v1/optimization/{optimizationId}:
    get:
      summary: Get child simulations that belong to an optimized simulation
      tags: [ Optimization ]
      parameters:
        - in: path
          name: optimizationId
          required: true
          schema:
            type: string
            example: 6553a127fcad73273655d634
      responses:
        201:
          description: Child simulations successfully retrieved.
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
                example: ["6553a127fcad73273655d634"]
        400:
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    properties:
                      code:
                        type: string
                        example: "VALIDATION_ERROR"
                      message:
                        type: string
                        example: "API Input Validation failed"
                      errors:
                        type: array
                        items:
                          type: string
                        example:
                          - "Invalid simulation id."
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: string
                    example: INTERNAL_SERVER_ERROR
                  message:
                    type: string
                    example: Internal server error occurred
                  details:
                    type: string
                    example: Error
components:
  schemas:
    RunSimulationRequest:
      type: object
      properties:
        type:
          type: string
          example: "AUTOMATED"
        name:
          type: string
          example: "GENERATED2"
        description:
          type: string
          example: "Second Simulation run by me"
        numConversations:
          type: number
          example: 1
        serviceAgentConfig:
          type: object
          properties:
            domain:
              type: string
              example: "FLIGHT"
            name:
              type: string
              example: "TEST SERVICE AGENT"
            llm:
              type: string
              example: "FAKE"
            temperature:
              type: number
              example: 0
            maxTokens:
              type: number
              example: 256
            prompt:
              type: string
              example: "concise"
        userAgentConfig:
          type: object
          properties:
            domain:
              type: string
              example: "FLIGHT"
            name:
              type: string
              example: "TEST USER AGENT"
            llm:
              type: string
              example: "FAKE"
            temperature:
              type: number
              example: 0
            maxTokens:
              type: number
              example: 256
            prompt:
              type: string
              example: "sarcastic"
    ServiceAgent:
      type: object
      properties:
        domain:
          type: string
          example: "FLIGHT"
        name:
          type: string
          example: "TEST SERVICE AGENT"
        llm:
          type: string
          example: "FAKE"
        temperature:
          type: number
          example: 0
        maxTokens:
          type: number
          example: 256
        prompt:
          type: string
          example: "nonative"
    UserAgent:
      type: object
      properties:
        domain:
          type: string
          example: "FLIGHT"
        name:
          type: string
          example: "TEST USER AGENT"
        llm:
          type: string
          example: "FAKE"
        temperature:
          type: number
          example: 0
        maxTokens:
          type: number
          example: 256
        prompt:
          type: string
          example: "sarcastic"
    SimulationDocument:
      type: object
      properties:
        _id:
          type: string
          example: "657eb671b13d02ce6fa88fea"
        type:
          type: string
          example: "AUTOMATED"
        name:
          type: string
          example: "GENERATED2"
        numConversations:
          type: number
          example: 1
        userAgent:
          type: string
          example: "657eb671b13d02ce6fa88fe8"
        serviceAgent:
          type: string
          example: "657eb671b13d02ce6fa88fe6"
        conversations:
          type: array
          items:
            type: string
            example: "657eb671b13d02ce6fa88fed"
        status:
          type: string
          example: "FINISHED"
        optimization:
          type: object
          example: null
        duration:
          type: number
          example: 1.815
        totalNumberOfInteractions:
          type: number
          example: 12
        createdAt:
          type: string
          example: "2023-12-17T08:50:57.696Z"
        updatedAt:
          type: string
          example: "2023-12-17T08:50:59.528Z"
        __v:
          type: number
          example: 0
        evaluation:
          type: string
          example: "657eb673b13d02ce6fa89045"
    ConversationResponse:
      type: object
      properties:
        _id:
          type: string
          example: "657eeee34f42a14928828083"
        startTime:
          type: string
          example: "2023-12-17T12:51:47.900Z"
        endTime:
          type: string
          example: "2023-12-17T12:51:49.494Z"
        status:
          type: string
          example: "FINISHED"
        messages:
          type: array
          items:
            oneOf:
              - $ref: "#/components/schemas/AgentMessage"
              - $ref: "#/components/schemas/UserMessage"
    AgentMessage:
      type: object
      properties:
        sender:
          type: string
          example: "AGENT"
        text:
          type: string
          example: "Hello, I'm an agent from KronosJet. How can I help you?"
        timestamp:
          type: string
          example: "2023-12-17T12:51:47.906Z"
        userCanReply:
          type: boolean
          example: true
    UserMessage:
      type: object
      properties:
        sender:
          type: string
          example: "USER"
        text:
          type: string
          example: "Hello, I want to change my flight"
        timestamp:
          type: string
          example: "2023-12-17T12:51:47.906Z"
        userCanReply:
          type: boolean
          example: false
    AgentResponse:
      type: object
      properties:
        name:
          type: string
          example: "TEST SERVICE AGENT"
        llm:
          type: string
          example: "FAKE"
        temperature:
          type: number
          example: 0
        maxTokens:
          type: number
          example: 256
        domain:
          type: string
          example: "FLIGHT"
        prompt:
          type: string
          example: "nonative"
        temporary:
          type: boolean
          example: false
        _id:
          type: string
          example: "657f281a749e8b0ad34aea99"
        createdAt:
          type: string
          example: "2023-12-17T16:55:54.567Z"
        updatedAt:
          type: string
          example: "2023-12-17T16:55:54.567Z"
        __v:
          type: number
          example: 0
    OptimizationDocument:
      type: object
      properties:
        _id:
          type: string
          example: 6553a127fcad73273655d634
        baseSimulation:
          type: string
          example: 6553a127fcad73273655d634
        childSimulations:
          type: array
          items:
            type: string
          example: []
    ResponseRunSimulation:
      type: object
      properties:
        type:
          type: string
          example: "AUTOMATED"
        name:
          type: string
          example: "GENERATED2"
        numConversations:
          type: number
          example: 1
        userAgent:
          type: object
          properties:
            name:
              type: string
              example: "TEST USER AGENT"
            llm:
              type: string
              example: "FAKE"
            temperature:
              type: number
              example: 0
            maxTokens:
              type: number
              example: 256
            domain:
              type: string
              example: "FLIGHT"
            prompt:
              type: string
              example: "sarcastic"
            temporary:
              type: boolean
              example: true
            _id:
              type: string
              example: "657eeee34f42a1492882807e"
            createdAt:
              type: string
              example: "2023-12-17T12:51:47.882Z"
            updatedAt:
              type: string
              example: "2023-12-17T12:51:47.882Z"
            __v:
              type: number
              example: 0
        serviceAgent:
          type: object
          properties:
            name:
              type: string
              example: "TEST SERVICE AGENT"
            llm:
              type: string
              example: "FAKE"
            temperature:
              type: number
              example: 0
            maxTokens:
              type: number
              example: 256
            domain:
              type: string
              example: "FLIGHT"
            prompt:
              type: string
              example: "concise"
            temporary:
              type: boolean
              example: true
            _id:
              type: string
              example: "657eeee34f42a1492882807c"
            createdAt:
              type: string
              example: "2023-12-17T12:51:47.875Z"
            updatedAt:
              type: string
              example: "2023-12-17T12:51:47.875Z"
            __v:
              type: number
              example: 0
        conversations:
          type: array
          items:
            type: string
          example: []
        status:
          type: string
          example: "RUNNING"
        optimization:
          type: object
          example: null
        duration:
          type: number
          example: 0
        totalNumberOfInteractions:
          type: number
          example: 0
        _id:
          type: string
          example: "657eeee34f42a14928828080"
        createdAt:
          type: string
          example: "2023-12-17T12:51:47.886Z"
        updatedAt:
          type: string
          example: "2023-12-17T12:51:47.886Z"
        __v:
          type: number
          example: 0
    ChatResponse:
      type: object
      properties:
        _id:
          type: string
          example: "657f2a8b8f82c4cd43c674f7"
        conversations:
          type: array
          items:
            type: string
            example: "657f2a8b8f82c4cd43c674fa"
        optimization:
          type: object
          example: null
        duration:
          type: number
          example: 0
        totalNumberOfInteractions:
          type: number
          example: 1
        name:
          type: string
          example: "Chat 3"
        status:
          type: string
          example: "RUNNING"
        type:
          type: string
          example: "CHAT"
        serviceAgent:
          type: string
          example: "657f2a8b8f82c4cd43c674f8"
        createdAt:
          type: string
          example: "2023-12-17T17:06:19.025Z"
        updatedAt:
          type: string
          example: "2023-12-17T17:06:19.051Z"
        __v:
          type: number
          example: 0
    OptimizationRequest:
      type: object
      properties:
        type:
          type: string
          example: "OPTIMIZATION"
        name:
          type: string
          example: "GENERATED3"
        description:
          type: string
          example: "Optimized simulation"
        numConversations:
          type: number
          example: 1
        serviceAgentConfig:
          type: object
          properties:
            name:
              type: string
              example: "TEST SERVICE AGENT"
            domain:
              type: string
              example: "FLIGHT"
            llm:
              type: string
              example: "FAKE"
            temperature:
              type: number
              example: 0
            maxTokens:
              type: number
              example: 256
            prompt:
              type: string
              example: "concise"
        userAgentConfig:
          type: object
          properties:
            domain:
              type: string
              example: "FLIGHT"
            name:
              type: string
              example: "TEST USER AGENT"
            llm:
              type: string
              example: "FAKE"
            temperature:
              type: number
              example: 0
            maxTokens:
              type: number
              example: 256
            prompt:
              type: string
              example: "sarcastic"
    ABSimulationRequest:
      type: object
      properties:
        name:
          type: string
          example: "AB"
        description:
          type: string
          example: "AB TESTING"
        numConversations:
          type: number
          example: 1
        serviceAgentAConfig:
          type: object
          properties:
            name:
              type: string
              example: "Temp service agent"
            domain:
              type: string
              example: "FLIGHT"
            llm:
              type: string
              example: "FAKE"
            temperature:
              type: number
              example: 0
            maxTokens:
              type: number
              example: 256
            prompt:
              type: string
              example: "default"
        serviceAgentBConfig:
          type: object
          properties:
            name:
              type: string
              example: "Temp service agent"
            domain:
              type: string
              example: "FLIGHT"
            llm:
              type: string
              example: "FAKE"
            temperature:
              type: number
              example: 0
            maxTokens:
              type: number
              example: 256
            prompt:
              type: string
              example: "default"
        userAgentConfig:
          type: object
          properties:
            name:
              type: string
              example: "Temp user agent"
            domain:
              type: string
              example: "FLIGHT"
            llm:
              type: string
              example: "FAKE"
            temperature:
              type: number
              example: 0
            maxTokens:
              type: number
              example: 256
            prompt:
              type: string
              example: "sarcastic"
